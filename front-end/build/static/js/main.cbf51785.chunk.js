(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(6),r=n.n(c),o=n(22),s=n(23),l=n(27),d=n(26),j=n(11),h=n.n(j),b=n(7),m=(n(52),n(53),n(13)),x=n(4),u=n(12),O=n(3),g=function(){};function p(e){return window.location.protocol+"//"+window.location.host+"/#"+e.split("uploads/")[1].split(".")[0]}function f(e){var t=e.imgText,n=e.imgUrl,a=e.cTime,c=e.oFN,r=Object(i.useState)(""),o=Object(m.a)(r,2),s=(o[0],o[1],Object(i.useState)(!1)),l=Object(m.a)(s,2);l[0],l[1];return console.log(p(n)),Object(O.jsxs)(x.b,{children:[Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.e,{children:Object(O.jsx)("h2",{children:"Image Text"})}),Object(O.jsx)("hr",{}),"\xa0\xa0\xa0",Object(O.jsx)(u.CopyToClipboard,{text:t,onCopy:g,children:Object(O.jsx)(x.a,{children:"Copy Text To Clipboard"})}),Object(O.jsx)(x.a,{className:"mx-2",onClick:function(){return function(e){e=p(e),console.log(e);var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}(n)},children:"Open In an New Tab"}),Object(O.jsx)(u.CopyToClipboard,{text:p(n),onCopy:g,children:Object(O.jsx)(x.a,{children:"Copy Image Link"})}),Object(O.jsx)("hr",{}),Object(O.jsx)(x.g,{children:t})]}),Object(O.jsx)(x.f,{variant:"bottom",src:n}),Object(O.jsxs)(x.d,{children:["Creation Time: ",a,"Original File Name: ",c]})]})}function C(e){var t=e.onChangeHandler,n=e.onClickHandler,i=e.loaded;return Object(O.jsxs)(x.b,{children:[Object(O.jsx)(x.e,{children:Object(O.jsx)("h2",{children:"Upload An Image"})}),Object(O.jsxs)(x.c,{children:[Object(O.jsxs)(x.g,{children:["Fast and Free OCR service. Extract text from ",Object(O.jsx)("br",{}),"any image with in few seconds. Simple Optical ",Object(O.jsx)("br",{}),"Character Recognition service. Maximum File ",Object(O.jsx)("br",{}),"upload size is 8MB. ",Object(O.jsx)("br",{}),"The ",Object(O.jsx)("a",{href:"https://github.com/0x30c4/fastOCR/",children:"GitHub Repo"})," link. ",Object(O.jsx)("br",{}),"API ",Object(O.jsx)("a",{href:"https://ocr.0x30c4.dev/api/docs",children:"Documentation"})," link."]}),Object(O.jsx)(x.j,{children:Object(O.jsx)("input",{type:"file",className:"form-control",onChange:t})}),Object(O.jsx)(x.a,{variant:"primary",onClick:n,children:"Upload"}),Object(O.jsx)(b.a,{}),Object(O.jsx)("br",{}),Object(O.jsxs)(x.k,{max:"100",color:"success",value:i,children:[Math.round(i,2),"%"]})]})]})}var v=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).host=window.location.protocol+"//"+window.location.host,i.imgQuery=!1,i.onChangeHandler=function(e){i.setState({selectedFile:e.target.files[0],loaded:0})},i.onClickHandler=function(){var e=new FormData;e.append("file",i.state.selectedFile),h.a.post(i.host+"/api/image",e,{onUploadProgress:function(e){i.setState({loaded:e.loaded/e.total*100})}}).then((function(e){b.b.success("upload success"),i.setState({imgUrl:e.data.url,imgText:e.data.text,createTime:e.data.time_created,oriFileName:e.data.original_file_name})})).catch((function(e){b.b.error("upload fail")}))},i.getImgData=function(e){var t=i.host+"/api/get_images/"+e;h.a.get(t).then((function(e){i.setState({imgUrl:"/uploads/"+e.data.uuid+"."+e.data.file_ext,imgText:e.data.text,createTime:e.data.time_created,oriFileName:e.data.original_file_name})})).catch((function(e){b.b.error("Can't get the image!")}))},i.state={selectedFile:null,imgUrl:"",imgText:"",createdTime:"",oriFileName:""},i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){if(!this.imgQuery){var e=window.location.hash.replace("#","");32==e.length&&(this.imgQuery=!0,this.getImgData(e))}}},{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(x.i,{children:[Object(O.jsx)("br",{}),Object(O.jsx)(x.l,{className:"justify-content-md-center",children:Object(O.jsx)(x.h,{md:"auto",children:this.imgQuery?Object(O.jsx)("div",{children:" "}):Object(O.jsx)(C,{onChangeHandler:this.onChangeHandler,onClickHandler:this.onClickHandler,loaded:this.state.loaded})})}),Object(O.jsx)("br",{}),Object(O.jsx)(x.l,{className:"justify-content-md-center",children:Object(O.jsx)(x.h,{md:"auto",children:this.state.imgUrl?Object(O.jsx)(f,{imgUrl:this.state.imgUrl,oFN:this.state.oriFileName,cTime:this.state.createTime,imgText:this.state.imgText}):Object(O.jsx)("div",{})})})]})})}}]),n}(i.Component);n(60);r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(v,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.cbf51785.chunk.js.map