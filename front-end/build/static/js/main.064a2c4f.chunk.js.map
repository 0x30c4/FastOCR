{"version":3,"sources":["components/ImgCard.js","components/UploadCard.js","App.js","index.js"],"names":["ImgCard","imgText","imgUrl","className","variant","src","UploadCard","onChangeHandler","onClickHandler","loaded","type","onChange","onClick","max","color","value","Math","round","App","props","host","window","location","protocol","imgQuery","event","setState","selectedFile","target","files","data","FormData","append","state","axios","post","onUploadProgress","ProgressEvent","total","then","res","toast","success","catch","err","error","getImgData","uuid","url","get","iii","this","hash","replace","length","md","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.064a2c4f.chunk.js","sourcesContent":["import React from 'react';\nimport {\n        Button, Card, CardBody, CardText,\n        CardImg, CardTitle, CardHeader, CardFooter\n} from 'reactstrap';\n\n\nexport default function ImgCard ({ imgText, imgUrl }) {\n    return (\n        <Card >\n          <CardBody>\n            <CardHeader>\n                <h2>\n                    Image Text\n                </h2>\n            </CardHeader>\n            <hr/>\n            &nbsp;&nbsp;&nbsp;\n            <Button className='mx-2'>\n                Open In an New Tab\n            </Button>\n            <Button>\n                Copy Text\n            </Button>\n            <hr/>\n            <CardText>\n                {imgText}\n            </CardText>\n          </CardBody>\n          <CardImg variant=\"bottom\" src={imgUrl}/>\n          <CardFooter>\n                Hello\n          </CardFooter>\n        </Card>\n    );\n}\n","import React from 'react';\nimport {\n        Card, CardBody, CardText, CardImg, CardTitle,\n        CardHeader, Button, FormGroup, Progress\n} from 'reactstrap';\nimport { ToastContainer, toast } from 'react-toastify';\n\n\nexport default function UploadCard( { onChangeHandler, onClickHandler, loaded} ) {\n    return (\n        <Card >\n            <CardHeader>\n                <h2>\n                    Upload An Image\n                </h2>\n            </CardHeader>\n            <CardBody>\n                <CardText>\n                    Fast and Free OCR service.\n                    Extract text from any image with in few seconds.\n                    Simple Optical Character Recognition service.\n                    Maximum File upload size is 8MB.\n                </CardText>\n                <FormGroup>\n                    <input type=\"file\" className=\"form-control\" onChange={onChangeHandler}/>\n                </FormGroup>\n                <Button variant=\"primary\" onClick={onClickHandler}>Upload</Button>\n                <ToastContainer />\n                <br/>\n                <Progress max=\"100\" color=\"success\" value={loaded} >{Math.round(loaded,2) }%</Progress>\n            </CardBody>\n        </Card>\n    );\n}\n","import axios from 'axios';\nimport React, {Component} from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ImgCard from './components/ImgCard';\nimport UploadCard from './components/UploadCard';\nimport {\n        Progress, Container, Label, Button, Card,\n        CardBody, CardText, CardImg, CardTitle, Row,\n        Col, CardHeader, Accordion, AccordionItem,\n        AccordionHeader, AccordionBody, FormGroup\n} from 'reactstrap';\n\n\nexport default class App extends Component {;\n\n    host = window.location.protocol + \"//\" + window.location.host\n    imgQuery = false\n\n    constructor(props) {\n        super(props);\n            this.state = {\n            selectedFile: null,\n            imgUrl:  \"\",\n            imgText: \"\"\n        }\n    }\n\n    componentDidMount () {\n\n        if (!this.imgQuery){\n            const uuid = window.location.hash.replace('#' , '')\n            // console.log(uuid)\n            if (uuid.length == 32){\n                this.imgQuery = true;\n                this.getImgData(uuid)\n                // console.log(this.state.imgUrl)\n                // console.log(this.state.imgText)\n            }\n        }\n    }\n\n    onChangeHandler = event =>{\n        this.setState({\n            selectedFile: event.target.files[0],\n            loaded: 0,\n        })\n    }\n\n    onClickHandler = () => {\n        const data = new FormData()\n\n        data.append('file', this.state.selectedFile)\n        axios.post(this.host + \"/api/image\", data, {\n            onUploadProgress: ProgressEvent => {\n                this.setState({\n                    loaded: (ProgressEvent.loaded / ProgressEvent.total*100),\n                    })\n                },\n            })\n          .then(res => { // then print response status\n            toast.success('upload success')\n            // this.state.imgUrl = res.data['url']\n            // window.state11 = this.state.imgUrl\n              this.setState({\n                  imgUrl: res.data['url'],\n                  imgText: res.data['text']\n              })\n          })\n          .catch(err => { // then print response status\n            toast.error('upload fail')\n          })\n    }\n\n    getImgData = (uuid) => {\n        const url = this.host + \"/api/get_images/\" + uuid\n        axios.get(url)\n            .then((res) => {\n                this.setState({\n                  imgUrl: \"/uploads/\" + res.data['uuid'] + \".\" + res.data['file_ext'],\n                  imgText: res.data['text']\n            })\n            window.iii = res.data\n        })\n            .catch((err) => {\n                toast.error(\"Can't get the image!\")\n        })\n    }\n\n    render () {\n        return (\n            <>\n                <Container>\n                    <br/>\n                    <Row className=\"justify-content-md-center\">\n                        <Col md=\"auto\">\n                            { !this.imgQuery ? (\n                                <UploadCard onChangeHandler={this.onChangeHandler} onClickHandler={this.onClickHandler} loaded={this.state.loaded}/>\n                            ) : (\n                                <div> </div>\n                            )}\n                        </Col>\n                    </Row>\n                    <br/>\n                    <Row className=\"justify-content-md-center\">\n                        <Col md=\"auto\">\n                            {this.state.imgUrl ? (\n                                <ImgCard imgUrl={this.state.imgUrl} imgText={this.state.imgText}/>\n                            ) : (\n                                <div></div>\n                            )}\n                        </Col>\n                    </Row>\n                </Container>\n            </>\n        );\n    }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}